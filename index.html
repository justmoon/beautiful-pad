<style type="text/css">
body {
  overflow: hidden;
}
#editor, #preview {
  position: absolute;
  top: 0;
  bottom: 0;
}
#editor {
  left: 0;
  width: 50%;
}
#preview {
  left: 50%;
  right: 0;
  overflow: auto;
}
#editor {
  font-family: 'Monaco', 'Menlo', 'Liberation Mono', 'Ubuntu Mono', 'Droid Sans Mono', 'Consolas', monospace;
}
</style>
<div id="editor"></div>
<div id="preview"></div>
<link rel="stylesheet" href="style/markdown.css" type="text/css"></link>
<link rel="stylesheet" href="style/highlight.css" type="text/css"></link>
<script>
var marked = require("marked");
var highlight = require("highlight").Highlight;
var fs = require("fs");
</script>
<script src="src/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="src/ace/mode-markdown.js" type="text/javascript" charset="utf-8"></script>
<script>
var editor = ace.edit("editor");
var session = editor.getSession();
editor.setFontSize(15);
var MarkdownMode = require("ace/mode/markdown").Mode;
session.setValue(fs.readFileSync("welcome.md", "utf-8"));
session.setMode(new MarkdownMode());
session.setUseWrapMode(true);
function updatePreview () {
  var code = editor.getSession().getValue();
  code = marked(code);
  code = highlight(code, false, true);
  document.getElementById('preview').innerHTML = code;
};
editor.on('change', updatePreview);
updatePreview();
</script>
